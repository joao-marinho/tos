extends ../layout

block content
  
  #calendar
  
  script.
    $(function() {
      
      var calendar = $("#calendar").fullCalendar({
        lang: "pt-br",
        header: {
          left: 'prev,next today',
          center: 'title',
          right: 'month,agendaWeek'
        },
        eventOverlap: false,
        allDaySlot: false,
        slotDuration: '00:30:00',
        snapDuration: '01:00:00',
        minTime: "08:00:00",
        maxTime: "16:00:00",
        selectable: true,
        selectHelper: true,
        selectOverlap: false,
        select: function( start, end, jsEvent, view ) {
          var duration = end.diff(start);
          if(view.name == 'agendaWeek') {
            if(duration != 3600000) {
              calendar.fullCalendar('unselect');
              return;
            }
            $('#myModal').modal({});
          }
        },
        dayClick: function(date, jsEvent, view) {
          calendar.fullCalendar( 'gotoDate', date );
          calendar.fullCalendar( 'changeView', 'agendaWeek' );
          //- console.log(date);
          //- console.log(jsEvent);
          //- console.log(view);
          //- $(this).css('background-color', 'red');
          //- $('#myModal').modal({});
        }
        
      });
    });
  
  // Button trigger modal
  button.btn.btn-primary.btn-lg(type='button', data-toggle='modal', data-target='#myModal')
    | Launch demo modal
  // Modal
  #myModal.modal.fade(tabindex='-1', role='dialog', aria-labelledby='myModalLabel')
    .modal-dialog(role='document')
      .modal-content
        .modal-header
          button.close(type='button', data-dismiss='modal', aria-label='Close')
            span(aria-hidden='true') Ã—
          h4#myModalLabel.modal-title Modal title
        .modal-body
          | ...
        .modal-footer
          button.btn.btn-default(type='button', data-dismiss='modal') Close
          button.btn.btn-primary(type='button') Save changes

  
  h1 Public
  a(href="/users/new") Cadastre-se
  br/
  a(href="/sessions/new") Login-se
